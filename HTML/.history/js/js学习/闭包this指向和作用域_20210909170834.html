<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //阮一峰日志 闭包
        //1
        // function f1() {

        //     var n = 999;

        //     nAdd = function () { n += 1 }

        //     function f2() {
        //         alert(n);
        //     }

        //     return f2;

        // }

        // var result = f1();

        // result(); // 999

        // nAdd();

        // result(); // 1000

        //2
        var name = "the window";
        var object = {
            name: "my object",
            getNameFunc: function () {
                var that = this;
                return function () {
                    return that.name;
                }

            }
        };
        // console.log(object.getNameFunc()())

        //3
        // var name = "the window";
        // var object = {
        //     name: "my object",
        //     getNameFunc: function () {
        //         return function () {
        //             return this.name;
        //         }
        //     }
        // };
        // console.log(object.getNameFunc()())


        //1
        // for (var i = 0; i < 10; i++) {
        //     console.log(i);
        // }

        // 2
        // for(var i = 0;i < 10;i++)
        // {
        // }
        // console.log(i);

        // 3
        // 'use strict'
        // for(var i = 0;i < 10;i++){

        // }
        // console.log(i);       
        // console.log(this.i);

        // 'use strict';
        // console.log((function () {
        //     return this}
        // )() === undefined)

        // var foo = function (){
        //     'use strict';
        //     console.log(this)
        // };
        // foo();

        // var a = 888;
        // var obj = {
        //     b : (function(){
        //         console.log(this);
        //     })()
        // }

        //4
        // var result = (function(){
        //     for(i = 0;i < 10;i++){}
        //     console.log(i);
        //     console.log(this.i);
        //     return this;
        // })()
        // console.log(result);

        //5
        // var x = {};
        // var result = (function f(i){
        //     var i = 11;
        //     for(i = 0;i < 10;i++){}
        //     for(i = 0;i < 10;i++){}
        //     console.log(i); 
        //     console.log(this.i); 
        //     console.log(this);
        //     return this; 
        // })(x);
        // console.log(result); 
        // console.log(x); 

        // 8
        // console.log(x) 
        // var x = 12;
        // if(y === '12'){
        //     var y = 12;
        //     x = 13;
        // } else {
        //     y = 14;
        // }
        // console.log(x,y);


        //1
        // var functionArray = [];
        // for(var i = 0;i < 10;i++){
        //     functionArray.push(
        //         function(){
        //             console.log(i);
        //         }
        //     )
        // }
        // for(var i = 0;i < 10;i++){
        //     functionArray[i](); 
        // }
        // functionArray[5]();


        //现在能访问到stack和length吗
        // function G() {
        //     var stack = [];
        //     var length = 0;
        //     return {
        //         push: function (i) { 
        //                 length++; 
        //                 x.push(i); 
        //             },
        //     }
        // }
        // var x = new G(); 

        // var a = 1;
        // var b = 2;
        // var c = 3;
        // (function () {
        //     var a = 11;
        //     b = 12;
        //     c = 13;
        // }());
        // console.log(a, b, c);



        // console.log(foo)
        // if(true) {
        //     var foo = "bar";
        // }
        // console.log(foo)



        // var a = 10;
        // if(true){
        //     var a = 20;
        // }
        // console.log(a);

        // if (true) {
        //     let a = 30;
        // }
        // console.log(a);

        // for(var i = 0;i < 5;i++){
        //     setTimeout(function() {
        //         console.log('hello');
        //         console.log(++i);
        //     },4000);
        // }
        // console.log('nihao');
        // console.log(i);

        a = 1;
        var obj = {
            a: '这是局部变量a',
            func1: function() {
                console.log(this.a)
            },
            func2: () => {
                console.log(this.a)
            }
        }
        // obj.func1() 
        // obj.func2() 

        // this.a = '全局a';
        // function Timer() {
        //     this.a = 'timer中的a';
        //     // 普通函数
        //     setTimeout(function () {
        //         console.log('普通函数:', this.a);
        //     });
        //     // 箭头函数
        //     setTimeout(() => {
        //         console.log('箭头函数:',this.a);
        //     });
        // }
        // new Timer();
        // 普通函数: 全局a
        // 箭头函数: timer中的a

        // this.a = '全局a';
        // function Timer() {
        //     // this.a = 'timer中的a';
        //     // 普通函数
        //     setTimeout(function () {
        //         console.log('普通函数:', this.a);
        //     });

        //     // 箭头函数
        //     setTimeout(() => {
        //         console.log('箭头函数:',this.a);
        //     });
        // }
        // Timer();

        // const data = ['car','car','truct','truct','bike','walk','car','van','cai','truct']

        // const transportation = data.reduce((obj, item) => {
        //     if(!obj[item]) {
        //         obj[item] = 0;
        //     }
        //     obj[item] ++;
        //     return obj;
        // },{})
        // console.log(transportation);
    </script>
</body>

</html>