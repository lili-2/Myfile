<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		/* 主页面的大盒子 */
		.mydiv {
			position: relative;
			margin: auto;
			width: 375px;
			height: 667px;
			/* background: red; */
		}

		#myCarousel {
			position: absolute;
			height: 100%;
			width: 100%;
			/* display: none; */
		}


		/* 页面1的内容 */
		.screen1 {
			margin: auto;
			width: 375px;
			height: 667px;
			background: rgba(0, 0, 255, 0.452);
		}

		.mysearchbtn>input[type="search"] {
			width: 95%;
			height: 30px;
			margin-left: 15px;
			border: none;
			outline: none;
			border-radius: 30px;
			background: #dad8d8;
			padding: 0px 10px;
		}

		.mysearchbtn {
			position: absolute;
		}

		.search2>span {
			display: inline-block;
			height: 30px;
			line-height: 30px;
			border-radius: 10px;
			border: 1px solid rgb(112, 110, 110);
			padding: 0 10px;
			margin: 5px;
		}

		.search2 {
			margin-left: 60px;
			margin-top: 10px;
			width: 300px;
			height: 50px;
		}

		.search3 {
			margin-left: 20px;
			width: 330px;
			height: 500px;

		}

		.search3>ul {
			padding: 30px;
		}

		.search3>ul>li {
			height: 40px;
			line-height: 40px;
			border-bottom: 1px solid rgb(241, 241, 241);
			display: flex;
			justify-content: space-between;
		}
	</style>
</head>

<body>
	<div class="screen1">
		<div class="mysearchbtn">
			<p style="font-size: 30px;margin-left: 130px;margin-top: 10px; color: aliceblue;">weather</p>
			<input class="searchinp" type="search" placeholder="输入城市"></input>
			<div class="search2">
				<span class="span1">福州</span>
				<span class="span2">北京</span>
				<span class="span3">上海</span>
				<span class="span4">广州</span>

			</div>
			<div class="search3">
				<ul>
					<!-- <li>福州</li>
					<li>福州</li>
					<li>福州</li>
					<li>福州</li> -->
				</ul>
			</div>
		</div>


		<div class="mybackground1"><img src="../img/ps背景透明1.png" alt=""></div>
	</div>
	<script>
		function InterfaceObtain1(id,lat,lon){
    // console.log(id,lat,lon)
    // console.log(lon+','+lat)
    function Conventionalweather() {
        return axios.get(`https://free-api.heweather.net/s6/weather/now?location=${id}&key=ef357a48f053497eb1e533641c194cf3`);
    }
    function Conventionalweather3() {
        return axios.get(`https://free-api.heweather.net/s6/weather/forecast?location=${id}&key=ef357a48f053497eb1e533641c194cf3`);
    }
    function Airquality() {
        return axios.get(`https://free-api.heweather.net/s6/air/now?location=${id}&key=ef357a48f053497eb1e533641c194cf3`);
    }
    function Latticeweather() {
        return axios.get(`https://api.heweather.net/s6/alarm?location=${id}&key=50007811758d4f40bc24b57949d8f496`); 
        
    }
    axios.all([Conventionalweather(), Conventionalweather3() ,Airquality() ,Latticeweather()])
    .then(axios.spread(function (Conventionalweather, Conventionalweather3,Airquality ,Latticeweather) {
    // Both requests are now complete
        // console.log(Conventionalweather)//常规天气
        // 城市  data.HeWeather6[0].basic.location
        // 时间  data.HeWeather6[0].update.loc Conventionalweather.data.HeWeather6[0].update.loc.substring(0, 10) yyyy-mm-dd substring(5, 10)
        // 多云  data.HeWeather6[0].now.cond_txt
        // 太阳  data.HeWeather6[0].now.cond_code
        // console.log(Conventionalweather)
        Get(".mywords2").innerHTML=Conventionalweather.data.HeWeather6[0].basic.location
        Get(".mywords1").innerHTML=Conventionalweather.data.HeWeather6[0].now.tmp+'°'
        Get(".mywords3").innerHTML=Conventionalweather.data.HeWeather6[0].update.loc.substring(0, 10)
        Get(".mywords4").innerHTML=Conventionalweather.data.HeWeather6[0].now.cond_txt
        Get(".mypicture").innerHTML=`<img class="mypicture1" src="../img/${Conventionalweather.data.HeWeather6[0].now.cond_code}.png" alt=""> <div class="mypicture2"></div><div class="mypicture3"></div><div class="mypicture4"></div>`

        // console.log(Conventionalweather3)//常规天气3天
        //多云data.HeWeather6[0].daily_forecast[0].cond_txt_d
        //温度data.HeWeather6[0].daily_forecast[0].tmp_max   tmp_min
        //时间  data.HeWeather6[0].update.loc
        // console.log(Conventionalweather3.data.HeWeather6[0].daily_forecast[2].cond_code_d)
        Get(".mywords5").innerHTML=Conventionalweather3.data.HeWeather6[0].daily_forecast[0].tmp_max+'°-'+Conventionalweather3.data.HeWeather6[0].daily_forecast[0].tmp_min+'°'
        Get(".mywords6").innerHTML=Conventionalweather3.data.HeWeather6[0].daily_forecast[1].tmp_max+'°-'+Conventionalweather3.data.HeWeather6[0].daily_forecast[1].tmp_min+'°'
        Get(".mywords7").innerHTML=Conventionalweather3.data.HeWeather6[0].daily_forecast[2].tmp_max+'°-'+Conventionalweather3.data.HeWeather6[0].daily_forecast[2].tmp_min+'°'
        Get(".mywords8").innerHTML=Conventionalweather3.data.HeWeather6[0].daily_forecast[0].date.substring(5, 10)
        Get(".mywords9").innerHTML=Conventionalweather3.data.HeWeather6[0].daily_forecast[1].date.substring(5, 10)
        Get(".mywords10").innerHTML=Conventionalweather3.data.HeWeather6[0].daily_forecast[2].date.substring(5, 10)
        Get(".mypicture2").innerHTML=`<img  src="../img/${Conventionalweather3.data.HeWeather6[0].daily_forecast[0].cond_code_d}.png" alt=""></img>`
        Get(".mypicture3").innerHTML=`<img  src="../img/${Conventionalweather3.data.HeWeather6[0].daily_forecast[1].cond_code_d}.png" alt=""></img>`
        Get(".mypicture4").innerHTML=`<img  src="../img/${Conventionalweather3.data.HeWeather6[0].daily_forecast[2].cond_code_d}.png" alt=""></img>`


        // console.log(Airquality)//天气质量
        //空气质量  data.HeWeather6[0].air_now_city.aqi
        //主要污染物data.HeWeather6[0].air_now_city.main
        // 臭氧data.HeWeather6[0].air_now_city.o3
        // 一氧化碳data.HeWeather6[0].air_now_city.co
        // 二氧化氮data.HeWeather6[0].air_now_city.no2
        // 二氧化硫data.HeWeather6[0].air_now_city.so2
        Get(".myscrwords0").innerHTML=Conventionalweather.data.HeWeather6[0].update.loc.substring(0, 10)
        Get(".myscrwords6").innerHTML=`Air quality-${Conventionalweather.data.HeWeather6[0].basic.location}`
        if(Latticeweather.data.HeWeather6[0].status!="no data for this location"){
            Get(".myscrwords5").innerHTML=`Disaster warning-${Conventionalweather.data.HeWeather6[0].basic.location}`
            Get(".myscrwords1").innerHTML=`${Latticeweather.data.HeWeather6[0].alarm[0].title}`
            Get(".myscrwords3").innerHTML=`type：${Latticeweather.data.HeWeather6[0].alarm[0].type}`
        }else{
            Get(".myscrwords5").innerHTML=`Disaster warning`
            Get(".myscrwords1").innerHTML=`没有该城市的灾害预警换个城市试试!`
            Get(".myscrwords3").innerHTML=``

        }

        Get(".myscrwords4").innerHTML=`qlty：${Airquality.data.HeWeather6[0].air_now_city.aqi}<br>main：${Airquality.data.HeWeather6[0].air_now_city.main}<br>o3：${Airquality.data.HeWeather6[0].air_now_city.o3}<br>co：${Airquality.data.HeWeather6[0].air_now_city.co}<br>no2：${Airquality.data.HeWeather6[0].air_now_city.no2}<br>so2：${Airquality.data.HeWeather6[0].air_now_city.so2}`


        // console.log(Latticeweather)


    }));
}

	</script>
</body>

</html>