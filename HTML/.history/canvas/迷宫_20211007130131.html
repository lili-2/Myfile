<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body{
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        #canvas {
            width: 600px;
            height: 400px;
            background-color: rgb(0, 0, 0);
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
            
            const stack =[]
            const arr = [[0,0,1,0,0,0,1,0],
                         [0,0,1,0,0,0,1,0],
                         [0,0,0,0,1,1,0,1],
                         [0,1,1,1,0,0,1,0],
                         [0,0,0,1,0,0,0,0],
                         [0,1,0,0,0,1,0,1],
                         [0,1,1,1,1,0,0,1],
                         [1,1,0,0,0,1,0,1],
                         [1,1,0,0,0,0,0,0]]
            let	i = 0,j = 0;
            let m = 9,n = 8;
            i = 0,j = 0;
            while(i != m-1 || j != n-1)
            {
                if(arr[i][j+1] == 0 && j+1<n)//向右1
                {
                    // pushStack(top,i,j,1);
                    stack.push({i,j,dir: "1"})
                    arr[i][j] = 3; 
                    j++;
                }
                else if(arr[i+1][j] == 0 && i+1<m)//向下2
                {
                    // pushStack(top,i,j,2);	
                    stack.push({i,j,dir: "2"})
                    arr[i][j] = 3; 
                    i++;
                }
                else if(arr[i][j-1] == 0 && j-1>=0)//向左3
                {
                    // pushStack(top,i,j,3);
                    stack.push({i,j,dir: "3"})
                    arr[i][j] = 3;
                    j--; 
                }
                else if(i-1>=0 && arr[i-1][j] == 0)//向上4
                {
                    // pushStack(top,i,j,4);
                    stack.push({i,j,dir: "4"})
                    arr[i][j] = 3;
                    i--; 
                }else{
                    arr[i][j] = 3;
                    i = stack[stack.length - 1].i;
                    j = stack[stack.length - 1].j;
                    // i = top->next->i;
                    // j = top->next->j;
                    arr[i][j] = 0;
                    // popStack(top);
                    stack.pop();
                }
            }
            // pushStack(top,i,j,0);
            stack.push({i:m,j:n,dir: "4"})
            // while(tail!=top)
            // {
            //     printf("(%d,%d,%d)",tail->i+1,tail->j+1,tail->k);
            //     tail=tail->left;
            // }
            // for(index = 0; index < stack.length;index++)
            // {
            //     console.log(`(${stack[index].i},${stack[index].j},${stack[index].dir})`)
            // }

            let canvas = document.getElementById("canvas");
            let ctx = canvas.getContext('2d');
            let c_width = canvas.width;
            let c_height = canvas.height;
            
            class map{
                constructor(x,y){
                    this.x = x*20;
                    this.y = y*20;
                }
                render(){
                    ctx.fillStyle = "blue";
                    for(let i = 0; i < map.length;i++)
                    {
                        for(let j = 0; j <map[0].length;j++)
                        {
                            if(map[this.x][this.y] == 1){
                                ctx.fillRect(this.x, this.y, 20, 20);
                            }
                        }
                    }
                    ctx.fill();
                }
                updata(){
                    ctx.fillStyle = "blue";
                    for(let i = 0; i < map.length;i++)
                    {
                        for(let j = 0; j <map[0].length;j++)
                        {
                            if(map[this.x][this.y] == 1){
                                ctx.fillRect(this.x, this.y, 20, 20);
                            }
                        }
                    }
                    ctx.fill();
                }
            }
            const map1 = new map()
            setInterval(() => {
                ctx.clearRect(0, 0, canvas.width, canvas.height)
                map1.render();
                map1.updata();
            },1000)
    </script>
</body>
</html>