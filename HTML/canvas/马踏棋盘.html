<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        
        const dir = [[ 0, -2, -1, 1, 2, 2, 1, -1, -2 ], [ 0, 1, 2, 2, 1, -1, -2, -2, -1 ]]; 
        const board =[];
        const stack = [];
        
        function fes(x, y) 
        {
            if (x < 8 && x >= 0 && y >= 0 && y < 8 && board[x][y] == 0) {
                return 1;
            }
            return 0;
        }
        function main()
        {
	        let step = 0;
	        let m = 1, n = 1;
            m--;
            n--;

            let Cur, Next;
            Cur.x = m;
            Cur.y = n;
            let before = 0;
            let i;
            while (step < 63) {
                i = before + 1;
                while (i < 9) {
                    Next.x = Cur.x + dir[0][i];
                    Next.y = Cur.y + dir[1][i];
                    if (fes(Next.x, Next.y)) {
                        step++;
                        board[Cur.x][Cur.y] = step;
                        // pushStack(head, Cur.x, Cur.y, i);


                        stack.push({x:Cur.x,y:Cur.y,step:1})
                        Cur.x = Next.x;
                        Cur.y = Next.y;
                        break;
                    }
                    i++;
                }
                if (i == 9) {
                    
                        // Cur.x = head -> next -> i;
                        // Cur.y = head -> next -> j;
                        Cur.x = stack[stack.length - 1].x;
                        Cur.y = stack[stack.length - 1].y;
                        board[Cur.x][Cur.y] = 0;
                        before = popStack(head).step;
                        step--;
                    
                }
                else {
                    before = 0;
                }
            }
            // for (i = 0; i < 8; i++) {
            //     for (let j = 0; j < 8; j++)
            //     {
            //         if (board[i][j] == 0) {
            //             printf("%2d ", 64);
            //         }
            //         else {
            //             printf("%2d ", board[i][j]);
            //         }
            //     }
            //     printf("\n");
            // }
            console.log(board)
        }
    </script>
</body>
</html>