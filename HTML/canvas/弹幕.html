<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        body{
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .middle{
            width: 400px;
            height: 400px;
            position: absolute;
        }
        .middle iframe{
            display: block;
            width: 100%;
            height: 250px;
        }
        .input1{
            width: 300px;
            height: 25px;
            outline: none;
            padding: 0 5px;
        }
        .input2{
            width: 60px;
            height: 30px;
            background-color: rgb(69, 195, 233);
            outline: none;
            border: none;
            margin-top: 5px;
            border-radius: 5px;
        }
        canvas{ 
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <div class="middle">
        <!-- <iframe src="//player.bilibili.com/player.html?aid=412643213&bvid=BV1uV411o7Xb&cid=176951125&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe> -->
        <!-- <iframe src="//player.bilibili.com/player.html?aid=89242754&bvid=BV1d7411J7Gc&cid=153402587&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe> -->
        <!-- <video src="https://www.bilibili.com/video/BV1d7411J7Gc?share_source=copy_web"></video> -->
        <iframe src="" frameborder="0"></iframe>
        <canvas  width="300px" height="200px"></canvas>
        <input class="input1" type="text">
        <input class="input2" type="submit" value="确定">
    </div>
    <script>
        const canvas = document.querySelector('canvas');
        const ctx = canvas.getContext('2d');
        // const canvas = document.getElementById("canvas");
        // const ctx = canvas.getContext('2d');
        var arr = [];
        const arr2 = [16,32,48];
        const  value1 = document.querySelector('.input1');
        const  submit = document.querySelector('.input2');
        console.log(submit)
        submit.addEventListener('click',()=>{
            console.log("dianji")
            if(value1.value !== ""){
                arr.push({
                    value: value1.value,
                    x: 300,
                    y: arr2[parseInt(Math.random() * 3)]
                });
            }
        })
        value1.addEventListener("keyup",(e)=>{
            if(e.keyCode == 13){
                submit.click(); 
                value1.value = ""
            }
        })
        ctx.font = '16px 微软雅黑';
        ctx.fillStyle = "#000";
        const draw = () => {
            arr.forEach(item => item.x--);
            requestAnimationFrame(()=> {
                ctx.clearRect(0,0,300,100);
                arr.forEach((item) => ctx.fillText(item.value,item.x,item.y));
            });
            setTimeout(() => {
                draw();
            },1000/60)
        }
        draw();
    </script>
</body>
</html>