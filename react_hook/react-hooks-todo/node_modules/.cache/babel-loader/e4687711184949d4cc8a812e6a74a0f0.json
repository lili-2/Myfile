{"ast":null,"code":"import { ACTION_TYPE } from \"./typings\";\n\nfunction todoReducer(state, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case ACTION_TYPE.INIT_TODOLIST:\n      return { ...state,\n        todoList: payload\n      };\n\n    case ACTION_TYPE.ADD_TODO:\n      return { ...state,\n        todoList: [...state.todoList, payload] //做类型断言\n\n      };\n\n    case ACTION_TYPE.REMOVE_TODO:\n      return { ...state,\n        todoList: state.todoList.filter(todo => todo.id !== payload)\n      };\n\n    case ACTION_TYPE.TOGGLE_TODO:\n      return { ...state,\n        todoList: state.todoList.map(todo => {\n          return todo.id === payload ? { ...todo,\n            completed: !todo.completed\n          } : { ...todo\n          };\n        })\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport { todoReducer };","map":{"version":3,"sources":["D:/MyFile/react-hooks-todo/src/components/TodoList/reducer.ts"],"names":["ACTION_TYPE","todoReducer","state","action","type","payload","INIT_TODOLIST","todoList","ADD_TODO","REMOVE_TODO","filter","todo","id","TOGGLE_TODO","map","completed"],"mappings":"AAAA,SAASA,WAAT,QAAoD,WAApD;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAAoCC,MAApC,EAA6D;AACzD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AACA,UAAQC,IAAR;AACI,SAAKJ,WAAW,CAACM,aAAjB;AACI,aAAO,EACH,GAAGJ,KADA;AAEHK,QAAAA,QAAQ,EAAEF;AAFP,OAAP;;AAIJ,SAAKL,WAAW,CAACQ,QAAjB;AACI,aAAO,EACH,GAAGN,KADA;AAEHK,QAAAA,QAAQ,EAAE,CAAC,GAAGL,KAAK,CAACK,QAAV,EAAmBF,OAAnB,CAFP,CAGH;;AAHG,OAAP;;AAKJ,SAAKL,WAAW,CAACS,WAAjB;AACI,aAAO,EACH,GAAGP,KADA;AAEHK,QAAAA,QAAQ,EAAEL,KAAK,CAACK,QAAN,CAAeG,MAAf,CAAsBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYP,OAA1C;AAFP,OAAP;;AAIJ,SAAKL,WAAW,CAACa,WAAjB;AACI,aAAO,EACH,GAAGX,KADA;AAEHK,QAAAA,QAAQ,EAAEL,KAAK,CAACK,QAAN,CAAeO,GAAf,CAAmBH,IAAI,IAAI;AACjC,iBAAOA,IAAI,CAACC,EAAL,KAAYP,OAAZ,GACP,EACI,GAAGM,IADP;AAEII,YAAAA,SAAS,EAAE,CAACJ,IAAI,CAACI;AAFrB,WADO,GAKP,EACI,GAAGJ;AADP,WALA;AAQH,SATS;AAFP,OAAP;;AAaJ;AACI,aAAOT,KAAP;AAhCR;AAkCH;;AACD,SACID,WADJ","sourcesContent":["import { ACTION_TYPE, IAction, IState, ITodo } from \"./typings\";\r\n\r\nfunction todoReducer(state: IState, action: IAction): IState {\r\n    const { type, payload } = action\r\n    switch (type) {\r\n        case ACTION_TYPE.INIT_TODOLIST:\r\n            return {\r\n                ...state,\r\n                todoList: payload\r\n            }\r\n        case ACTION_TYPE.ADD_TODO:\r\n            return {\r\n                ...state,\r\n                todoList: [...state.todoList,payload as ITodo]\r\n                //做类型断言\r\n            }\r\n        case ACTION_TYPE.REMOVE_TODO:\r\n            return {\r\n                ...state,\r\n                todoList: state.todoList.filter(todo => todo.id !== payload)\r\n            }\r\n        case ACTION_TYPE.TOGGLE_TODO:\r\n            return {\r\n                ...state,\r\n                todoList: state.todoList.map(todo => {\r\n                    return todo.id === payload ?\r\n                    {\r\n                        ...todo,\r\n                        completed: !todo.completed\r\n                    } :\r\n                    {\r\n                        ...todo\r\n                    }\r\n                })\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport {\r\n    todoReducer\r\n}"]},"metadata":{},"sourceType":"module"}